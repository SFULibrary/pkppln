{% extends '::base.html.twig' %}

    
{% block pageheader %}
    <h1>Deposit</h1>
{% endblock %}
    
{% block body -%}
        <div class="btn-toolbar">
    <div class="btn-group pull-right">
        <a href="{{ path('deposit') }}" class="btn btn-default">
            <span class="glyphicon glyphicon-arrow-left"></span> Back
        </a>
    </div>
</div>

    <table class="record_properties table table-striped table-bordered table-hover">
        <tbody>
            <tr>
                <th>File type</th>
                <td>{{ entity.filetype }}</td>
            </tr>
            <tr>
                <th>Deposit uuid</th>
                <td>{{ entity.deposituuid }}</td>
            </tr>
            <tr>
                <th>Received</th>
                <td>{{ entity.received|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Action</th>
                <td>{{ entity.action }}</td>
            </tr>
			<tr>
				<th>Journal</th>
				<td><a href='{{ path('journal_show', { 'id': entity.journal.id }) }}'>
						{{ entity.journal.title }}
					</a>
				</td>
			</tr>
			<tr>
				<th>OJS Version</th>
				<td>{{ entity.ojsVersion }}</td>
			</tr>
            <tr>
                <th>Volume</th>
                <td>{{ entity.volume }}</td>
            </tr>
            <tr>
                <th>Issue</th>
                <td>{{ entity.issue }}</td>
            </tr>
            <tr>
                <th>Publication date</th>
                <td>{{ entity.pubDate|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>License</th>
                <td><dl class='dl-horizontal'>
					{% for key, value in entity.license %}
						<dt>{{ key }}</dt>
						<dd>{{ value }}</dd>
					{% endfor %}
					</dl>
				</td>
            </tr>
            <tr>
                <th>Checksum type</th>
                <td>{{ entity.checksumType }}</td>
            </tr>
            <tr>
                <th>Checksum value</th>
                <td>{{ entity.checksumValue }}</td>
            </tr>
            <tr>
                <th>Url</th>
                <td><a href="{{ entity.url }}">{{ entity.url|preg_replace('~/~', '/&#8203;')|raw }}</a></td>
            </tr>
            <tr>
                <th>Size (kb)</th>
                <td>{{ entity.size }}</td>
            </tr>
            <tr>
                <th>Processing State</th>
                <td>{{ entity.state }}</td>
            </tr>
            <tr>
                <th>LOCKSS PLN state</th>
                <td>{{ entity.plnState }}</td>
            </tr>
            <tr>
                <th>Packaged size</th>
                <td>{{ entity.packageSize }}</td>
            </tr>
            <tr>
                <th>Package path</th>
                <td>{{ entity.packagePath|preg_replace('~/~', '/&#8203;')|raw }}</td>
            </tr>
            <tr>
                <th>Package checksum type</th>
                <td>{{ entity.packageChecksumType }}</td>
            </tr>
            <tr>
                <th>Package checksum value</th>
                <td>{{ entity.packageChecksumValue }}</td>
            </tr>
            <tr>
                <th>Deposit date</th>
                <td>{{ entity.depositDate|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Deposit receipt</th>
                <td><a href="{{ entity.depositReceipt }}">{{ entity.depositReceipt|preg_replace('~/~', '/&#8203;')|raw }}</a></td>
            </tr>
            <tr>
                <th>Staged deposit</th>
                <td><a href='{{ url('fetch', { 'journalUuid': entity.journal.uuid, 'depositUuid': entity.depositUuid }) }}'>
                    {{ url('fetch', { 'journalUuid': entity.journal.uuid, 'depositUuid': entity.depositUuid }) }}
                    </a>
                </td>
            </tr>
            <tr>
                <th>Processing log</th>
                <td>
                    {{- entity.processingLog|nl2br -}}
                </td>
            </tr>
        </tbody>
    </table>
{% endblock %}
